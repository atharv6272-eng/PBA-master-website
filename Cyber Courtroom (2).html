<!DOCTYPE html>
<html lang="en" class="light-mode">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è Cyber Courtroom - Digital Safety Expert</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root {
            /* Dark Mode - Primary Colors */
            --primary: #00ff88;
            --primary-dark: #00cc6a;
            --secondary: #ff00ff;
            --accent: #00ffff;
            --success: #00ff88;
            --danger: #ff0055;
            --warning: #ffaa00;
            
            /* Dark Mode - Backgrounds */
            --bg-gradient-dark: linear-gradient(135deg, #0a0e27 0%, #1a0033 50%, #0a0e27 100%);
            --card-bg-dark: rgba(15, 15, 40, 0.85);
            --text-primary-dark: #00ff88;
            --text-secondary-dark: rgba(255, 255, 255, 0.7);
            
            /* Light Mode - Primary Colors */
            --primary-light: #1e7e34;
            --primary-dark-light: #166e2a;
            --secondary-light: #a855f7;
            --accent-light: #0891b2;
            --success-light: #16a34a;
            --danger-light: #dc2626;
            --warning-light: #d97706;
            
            /* Light Mode - Backgrounds */
            --bg-gradient-light: linear-gradient(135deg, #f5f5f5 0%, #ffffff 50%, #f0f0f0 100%);
            --card-bg-light: rgba(255, 255, 255, 0.95);
            --text-primary-light: #1f2937;
            --text-secondary-light: #6b7280;
            
            /* Active Theme (defaults to dark) */
            --primary: var(--primary);
            --bg-gradient: var(--bg-gradient-dark);
            --card-bg: var(--card-bg-dark);
            --text-primary: var(--text-primary-dark);
            --text-secondary: var(--text-secondary-dark);
            
            --glow-primary: 0 0 20px rgba(0, 255, 136, 0.5);
            --glow-secondary: 0 0 30px rgba(255, 0, 255, 0.4);
            --glow-accent: 0 0 20px rgba(0, 255, 255, 0.5);
            --shadow-sm: 0 0 15px rgba(0, 255, 136, 0.2);
            --shadow-md: 0 0 30px rgba(0, 255, 136, 0.3);
            --shadow-lg: 0 0 50px rgba(255, 0, 255, 0.3);
            --radius: 16px;
            --transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* Light Mode */
        html.light-mode {
            --primary: var(--primary-light);
            --primary-dark: var(--primary-dark-light);
            --secondary: var(--secondary-light);
            --accent: var(--accent-light);
            --success: var(--success-light);
            --danger: var(--danger-light);
            --warning: var(--warning-light);
            --bg-gradient: var(--bg-gradient-light);
            --card-bg: var(--card-bg-light);
            --text-primary: var(--text-primary-light);
            --text-secondary: var(--text-secondary-light);
            --glow-primary: 0 0 20px rgba(30, 126, 52, 0.3);
            --glow-secondary: 0 0 30px rgba(168, 85, 247, 0.2);
            --glow-accent: 0 0 20px rgba(8, 145, 178, 0.3);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Orbitron', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', sans-serif;
            background: var(--bg-gradient);
            color: #39ff14;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            letter-spacing: 0.5px;
            line-height: 1.6;
            transition: background 0.5s ease, color 0.5s ease;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 50%, rgba(0, 255, 136, 0.15), transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 255, 0.15), transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 255, 0.1), transparent 50%);
            animation: bgShift 20s ease infinite;
            z-index: 0;
            opacity: 0.6;
        }

        html.light-mode body::before {
            background:
                radial-gradient(circle at 20% 50%, rgba(30, 126, 52, 0.08), transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(168, 85, 247, 0.06), transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(8, 145, 178, 0.05), transparent 50%);
            opacity: 0.4;
        }

        @keyframes bgShift {
            0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
            50% { opacity: 0.9; transform: scale(1.15) rotate(2deg); }
        }

        @keyframes smoothFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes smoothSlideInDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes smoothSlideInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes smoothSlideInLeft {
            from { transform: translateX(-30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes smoothSlideInRight {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.5); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.8), 0 0 60px rgba(0, 255, 255, 0.4); }
        }

        @keyframes softPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes floatDown {
            0% { opacity: 0; transform: translateY(-15px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0;
            min-height: 100vh;
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(10, 14, 39, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid var(--primary);
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--glow-primary);
            animation: slideDown 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }

        html.light-mode .header {
            background: rgba(255, 255, 255, 0.95);
            border-bottom-color: var(--primary);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 16px;
            color: var(--primary);
            font-weight: 700;
            font-size: 18px;
        }

        .logo {
            width: 52px;
            height: 52px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: #39ff14;
            font-weight: 900;
            font-size: 24px;
            box-shadow: var(--glow-primary), inset 0 0 20px rgba(0, 255, 136, 0.3);
            animation: logoFloat 2.5s ease-in-out infinite;
            border: 2px solid var(--primary);
            transition: all 0.5s ease;
        }

        html.light-mode .logo {
            color: white;
            box-shadow: 0 4px 16px rgba(30, 126, 52, 0.3);
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-8px) scale(1.05); }
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(0, 255, 136, 0.1);
            padding: 8px 14px;
            border-radius: 8px;
            border: 2px solid var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--primary);
            font-size: 13px;
        }

        html.light-mode .theme-toggle {
            background: rgba(30, 126, 52, 0.1);
            border-color: var(--primary);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow-primary);
        }

        .theme-toggle-icon {
            font-size: 16px;
        }

        nav {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        nav a {
            text-decoration: none;
            color: var(--primary);
            padding: 9px 16px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 13px;
            transition: var(--transition);
            background: rgba(0, 255, 136, 0.05);
            border: 2px solid var(--primary);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        html.light-mode nav a {
            background: rgba(30, 126, 52, 0.05);
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(0, 255, 136, 0.2);
            transition: left 0.3s ease;
        }

        html.light-mode nav a::before {
            background: rgba(30, 126, 52, 0.15);
        }

        nav a:hover::before {
            left: 100%;
        }

        nav a:hover {
            box-shadow: var(--glow-primary);
            transform: translateY(-2px);
        }

        nav a.active-link {
            background: var(--primary) !important;
            color: #39ff14 !important;
            box-shadow: var(--glow-primary);
            font-weight: 900;
        }

        html.light-mode nav a.active-link {
            color: white !important;
        }

        .page {
            flex: 1;
            margin: 32px 32px 24px;
            padding: 48px 48px 40px;
            background: var(--card-bg);
            backdrop-filter: blur(24px);
            border-radius: var(--radius);
            border: 2px solid rgba(0, 255, 136, 0.4);
            box-shadow: var(--shadow-lg);
            animation: fadeInUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: all 0.5s ease;
        }

        html.light-mode .page {
            border-color: rgba(30, 126, 52, 0.2);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .feedback-show {
            animation: fadeInScale 0.5s ease;
        }

        .page::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.05) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .page > * {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 52px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 16px;
            animation: fadeIn 0.8s ease;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.6), 0 0 40px rgba(0, 255, 136, 0.3);
            letter-spacing: 1.5px;
            line-height: 1.3;
            transition: color 0.5s ease, text-shadow 0.5s ease;
        }

        html.light-mode h1 {
            text-shadow: none;
            color: var(--primary);
        }

        h2 {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
            letter-spacing: 1.2px;
            margin-top: 0;
            transition: color 0.5s ease, text-shadow 0.5s ease;
        }

        html.light-mode h2 {
            text-shadow: none;
        }

        h3 {
            font-size: 22px;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 16px;
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
            letter-spacing: 0.8px;
            transition: color 0.5s ease, text-shadow 0.5s ease;
        }

        html.light-mode h3 {
            text-shadow: none;
        }

        .lead {
            font-size: 17px;
            color: var(--text-secondary);
            margin-bottom: 24px;
            line-height: 1.8;
            font-weight: 400;
            letter-spacing: 0.3px;
            transition: color 0.5s ease;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 28px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: #39ff14;
            font-weight: 700;
            font-size: 14px;
            border: 2px solid var(--primary);
            cursor: pointer;
            box-shadow: var(--glow-primary);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.8px;
            text-align: center;
            min-width: 120px;
        }

        html.light-mode .btn {
            color: white;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(30, 126, 52, 0.2);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: left 0.4s ease;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8), 0 0 80px rgba(0, 255, 255, 0.5);
        }

        html.light-mode .btn:hover {
            box-shadow: 0 6px 20px rgba(30, 126, 52, 0.3);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .btn.ghost {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
            box-shadow: var(--glow-accent);
        }

        html.light-mode .btn.ghost {
            background: rgba(8, 145, 178, 0.05);
            color: var(--accent);
        }

        .btn.ghost:hover {
            background: rgba(0, 255, 255, 0.2);
            color: white;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.8);
        }

        html.light-mode .btn.ghost:hover {
            background: rgba(8, 145, 178, 0.15);
            color: var(--accent);
        }

        .card {
            background: rgba(20, 20, 50, 0.85);
            padding: 32px;
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            border: 2px solid rgba(0, 255, 136, 0.35);
            margin-bottom: 28px;
            color: var(--text-primary);
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        html.light-mode .card {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid rgba(30, 126, 52, 0.2);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .card p {
            line-height: 1.8;
            font-size: 15px;
            letter-spacing: 0.4px;
            color: var(--text-secondary);
        }

        html.light-mode .card p {
            color: var(--text-secondary);
        }

        .card:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 0 40px rgba(0, 255, 136, 0.5), 0 0 20px rgba(0, 255, 255, 0.3);
            border-color: var(--primary);
        }

        html.light-mode .card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .option {
            padding: 20px 24px;
            border-radius: 12px;
            border: 2px solid rgba(0, 255, 136, 0.5);
            margin-bottom: 14px;
            cursor: pointer;
            background: rgba(20, 20, 50, 0.8);
            transition: var(--transition);
            font-weight: 600;
            position: relative;
            overflow: hidden;
            color: var(--text-primary);
            font-size: 15px;
            letter-spacing: 0.5px;
            line-height: 1.6;
        }

        html.light-mode .option {
            background: rgba(240, 253, 250, 0.8);
            border-color: rgba(30, 126, 52, 0.4);
            color: var(--text-primary);
        }

        .option::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            transform: scaleY(0);
            transform-origin: center;
            transition: transform 0.3s ease;
        }

        .option:hover::before {
            transform: scaleY(1);
        }

        .option:hover {
            border-color: var(--primary);
            transform: translateX(6px);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.4);
        }

        html.light-mode .option:hover {
            box-shadow: 0 4px 16px rgba(30, 126, 52, 0.2);
        }

        .option.correct {
            border-color: var(--success);
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.2) 0%, rgba(0, 255, 136, 0.1) 100%);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
            animation: pulse 0.6s ease;
        }

        html.light-mode .option.correct {
            background: linear-gradient(135deg, rgba(22, 163, 74, 0.15) 0%, rgba(22, 163, 74, 0.08) 100%);
            border-color: var(--success);
        }

        .option.wrong {
            border-color: var(--danger);
            background: linear-gradient(135deg, rgba(255, 0, 85, 0.2) 0%, rgba(255, 0, 85, 0.1) 100%);
            box-shadow: 0 0 30px rgba(255, 0, 85, 0.5);
            animation: shake 0.5s ease;
        }

        html.light-mode .option.wrong {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.15) 0%, rgba(220, 38, 38, 0.08) 100%);
            border-color: var(--danger);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }

        .input, textarea, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid rgba(0, 255, 136, 0.4);
            background: rgba(10, 10, 30, 0.9);
            font-size: 14px;
            transition: var(--transition);
            font-family: inherit;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        html.light-mode .input,
        html.light-mode textarea,
        html.light-mode select {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(30, 126, 52, 0.3);
            color: var(--text-primary);
        }

        .input::placeholder, textarea::placeholder {
            color: rgba(0, 255, 136, 0.5);
        }

        html.light-mode .input::placeholder,
        html.light-mode textarea::placeholder {
            color: rgba(30, 126, 52, 0.5);
        }

        .input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.5), inset 0 0 10px rgba(0, 255, 136, 0.1);
        }

        html.light-mode .input:focus,
        html.light-mode textarea:focus,
        html.light-mode select:focus {
            box-shadow: 0 0 12px rgba(30, 126, 52, 0.3);
        }

        .label {
            display: block;
            margin: 16px 0 8px;
            font-weight: 700;
            color: var(--accent);
            font-size: 14px;
            letter-spacing: 0.5px;
            transition: color 0.5s ease;
        }

        .badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 999px;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
            font-weight: 800;
            font-size: 13px;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            transition: all 0.3s ease;
        }

        html.light-mode .badge {
            box-shadow: 0 2px 8px rgba(168, 85, 247, 0.2);
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 28px;
            margin-top: 28px;
            align-items: stretch;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 18px;
            margin: 24px 0;
        }

        .stat-box {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 255, 255, 0.08) 100%);
            padding: 28px 24px;
            border-radius: 12px;
            border-left: 5px solid var(--primary);
            border-top: 2px solid var(--accent);
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        html.light-mode .stat-box {
            background: linear-gradient(135deg, rgba(30, 126, 52, 0.08) 0%, rgba(8, 145, 178, 0.06) 100%);
            border-left-color: var(--primary);
            border-top-color: var(--accent);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .stat-box:hover {
            transform: translateY(-4px);
            box-shadow: 0 0 40px rgba(0, 255, 136, 0.4), 0 0 20px rgba(0, 255, 255, 0.3);
        }

        html.light-mode .stat-box:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }

        .stat-box .value {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary);
            text-shadow: 0 0 15px rgba(0, 255, 136, 0.6);
            transition: all 0.3s ease;
        }

        html.light-mode .stat-box .value {
            text-shadow: none;
        }

        .stat-box .label-text {
            font-size: 12px;
            color: var(--accent);
            letter-spacing: 1px;
            font-weight: 600;
            transition: color 0.5s ease;
        }

        .modal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(12px);
            z-index: 9999;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
        }

        .modal .panel {
            max-width: 600px;
            width: 90%;
            background: rgba(10, 14, 39, 0.95);
            padding: 32px;
            border-radius: var(--radius);
            border: 2px solid var(--primary);
            box-shadow: 0 0 50px rgba(0, 255, 136, 0.5), 0 0 100px rgba(255, 0, 255, 0.2);
            animation: modalSlide 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            color: var(--text-primary);
        }

        html.light-mode .modal .panel {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        @keyframes modalSlide {
            from { opacity: 0; transform: translateY(-80px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .hidden {
            display: none !important;
        }

        .shake {
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .popup {
            position: fixed;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--success), var(--primary));
            color: #39ff14;
            padding: 16px 28px;
            border-radius: 8px;
            font-weight: 900;
            border: 2px solid var(--success);
            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);
            transition: var(--transition);
            opacity: 0;
            z-index: 10000;
            letter-spacing: 0.8px;
            font-size: 14px;
        }

        html.light-mode .popup {
            color: white;
        }

        .popup.show {
            bottom: 32px;
            opacity: 1;
            animation: popupSlide 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes popupSlide {
            from { transform: translateX(-50%) translateY(20px); opacity: 0; }
            to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }

        .section {
            transition: opacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .section.hidden {
            opacity: 0;
            transform: translateY(10px);
        }

        .section:not(.hidden) {
            opacity: 1;
            transform: translateY(0);
        }

        .btn:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 3px;
        }

        .stat-box:hover .value {
            transform: scale(1.04);
            transition: transform 0.25s ease;
        }

        nav a:active,
        .btn:active {
            transform: translateY(0) scale(0.96);
            box-shadow: 0 0 18px rgba(0, 255, 136, 0.5);
        }

        @media (max-width: 1024px) {
            h1 { font-size: 40px; }
            h2 { font-size: 28px; }
            .page { padding: 40px 32px; }
            .grid { grid-template-columns: 1fr; gap: 20px; }
        }

        @media (max-width: 768px) {
            h1 { font-size: 32px; letter-spacing: 0.8px; margin-bottom: 12px; }
            h2 { font-size: 24px; margin-bottom: 16px; }
            h3 { font-size: 18px; margin-bottom: 12px; }
            .lead { font-size: 15px; margin-bottom: 20px; }
            .page { 
                margin: 12px; 
                padding: 24px 18px; 
                border-radius: 12px;
            }
            .grid { 
                grid-template-columns: 1fr; 
                gap: 16px; 
                margin-top: 20px;
            }
            .header {
                padding: 14px 18px;
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }
            .brand { gap: 10px; font-size: 15px; }
            .logo { width: 44px; height: 44px; font-size: 18px; }
            nav { 
                justify-content: flex-start; 
                flex-wrap: wrap; 
                gap: 6px;
                width: 100%;
            }
            nav a { 
                padding: 7px 12px; 
                font-size: 11px;
                flex: 1 1 auto;
                min-width: 65px;
                text-align: center;
            }
            .theme-toggle {
                padding: 6px 12px;
                font-size: 12px;
                gap: 8px;
            }
            .stat-box { 
                padding: 18px 12px;
                gap: 8px;
                border-radius: 10px;
            }
            .stat-box .value { 
                font-size: 24px;
            }
            .stat-box .label-text {
                font-size: 11px;
            }
            .btn { 
                padding: 10px 18px; 
                font-size: 12px;
                min-width: 100px;
            }
            .card { 
                padding: 18px 14px;
                margin-bottom: 16px;
                gap: 10px;
            }
            .card p {
                font-size: 14px;
            }
            .option {
                padding: 16px 16px;
                margin-bottom: 10px;
                font-size: 14px;
            }
            .input, textarea, select {
                padding: 10px;
                font-size: 13px;
                margin-bottom: 8px;
                border-radius: 6px;
            }
            .label {
                margin: 12px 0 6px;
                font-size: 13px;
            }
            .badge {
                padding: 6px 12px;
                font-size: 11px;
            }
            .stats {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 10px;
                margin: 16px 0;
            }
            .modal .panel {
                max-width: 95%;
                padding: 20px;
                border-radius: 12px;
            }
        }

        @media (max-width: 480px) {
            h1 { font-size: 26px; }
            h2 { font-size: 20px; }
            h3 { font-size: 16px; }
            .lead { font-size: 14px; }
            .page { 
                margin: 6px; 
                padding: 16px 12px;
            }
            .header {
                padding: 10px 12px;
            }
            .brand { 
                gap: 8px;
                font-size: 13px;
            }
            .logo { 
                width: 40px; 
                height: 40px; 
                font-size: 16px; 
            }
            nav { 
                gap: 4px;
            }
            nav a { 
                padding: 5px 8px; 
                font-size: 10px;
                min-width: 55px;
            }
            .theme-toggle {
                padding: 5px 10px;
                font-size: 11px;
            }
            .grid { 
                gap: 10px; 
                margin-top: 16px;
            }
            .card { 
                padding: 14px 10px;
                margin-bottom: 12px;
            }
            .btn { 
                padding: 8px 14px; 
                font-size: 11px;
                min-width: 90px;
            }
            .stat-box { 
                padding: 14px 8px;
                gap: 6px;
            }
            .stat-box .value { 
                font-size: 22px;
            }
            .option {
                padding: 14px 12px;
                font-size: 13px;
                margin-bottom: 8px;
            }
            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            .input, textarea, select {
                padding: 8px;
                font-size: 12px;
                margin-bottom: 6px;
            }
            .label {
                margin: 10px 0 5px;
                font-size: 12px;
            }
        }

        ul {
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">                <div class="brand">
                <div class="logo">üõ°Ô∏è</div>
                <div>
                    <div>Cyber Courtroom</div>
                </div>
            </div>
            <nav>
                <a href="#" onclick="goToSection('home')">Home</a>
                <a href="#" onclick="goToSection('game')">Quiz</a>
                <a href="#" onclick="goToSection('news')">News</a>
                <a href="#" onclick="goToSection('websites')">Website</a>
                <a href="#" onclick="goToSection('safety')">Safety</a>
                <a href="#" onclick="openPresentationTab()">üé• Scams</a>
                <a href="#" onclick="goToSection('about')">About</a>
                <a href="#" onclick="goToSection('feedback')">Feedback</a>
                <div class="theme-toggle" onclick="toggleTheme()">
                    <span class="theme-toggle-icon">üåô</span>
                    <span id="themeLabel">Dark</span>
                </div>
            </nav>
        </div>

        <div class="page" id="page">
            <!-- HOME SECTION -->
            <div id="home-section" class="section">
                <div style="text-align: center; max-width: 900px; margin: 0 auto 36px;">
                    <h1 style="animation: smoothSlideInDown 0.6s ease-out;">üõ°Ô∏è Become a Digital Safety Expert</h1>
                    <p class="lead" style="animation: smoothSlideInUp 0.6s ease-out 0.1s both;">Master the skills to navigate the online world safely, spot misinformation, and protect yourself from cyber threats.</p>
                </div>
                
                <div class="grid" style="max-width: 1200px; margin: 0 auto 28px;">
                    <div class="card" style="animation: smoothSlideInLeft 0.6s ease-out 0.1s both;">
                        <h3>üéØ Spot Fake News</h3>
                        <p>Learn to identify misinformation, verify sources, and use fact-checking tools effectively.</p>
                        <button class="btn" onclick="goToSection('news')">Learn More ‚Üí</button>
                    </div>
                    <div class="card" style="animation: smoothSlideInRight 0.6s ease-out 0.2s both;">
                        <h3>üîê Secure Your Accounts</h3>
                        <p>Master password management, two-factor authentication, and protect your digital identity.</p>
                        <button class="btn" onclick="goToSection('safety')">Get Started ‚Üí</button>
                    </div>
                    <div class="card" style="animation: smoothSlideInLeft 0.6s ease-out 0.3s both;">
                        <h3>üåê Identify Fake Websites</h3>
                        <p>Recognize phishing attempts, verify website authenticity, and browse safely online.</p>
                        <button class="btn" onclick="goToSection('websites')">Explore ‚Üí</button>
                    </div>
                    <div class="card" style="animation: smoothSlideInRight 0.6s ease-out 0.4s both;">
                        <h3>üìö Interactive Quiz</h3>
                        <p>Test your cyber knowledge with engaging scenarios in our Cyber Courtroom game.</p>
                        <button class="btn" onclick="goToSection('game')">Play Game ‚Üí</button>
                    </div>
                </div>

                <div style="text-align: center; max-width: 900px; margin: 32px auto 0;">
                    <h2 style="animation: smoothSlideInDown 0.6s ease-out;">üéì What You'll Learn</h2>
                </div>
                <div class="grid" style="max-width: 1200px; margin: 28px auto 0;">
                    <div class="card">
                        <h3>üß† Critical Thinking</h3>
                        <p>Evaluate information sources and identify bias in online content.</p>
                    </div>
                    <div class="card">
                        <h3>üîí Cybersecurity</h3>
                        <p>Protect your devices, data, and online accounts from threats.</p>
                    </div>
                    <div class="card">
                        <h3>ü§ù Digital Citizenship</h3>
                        <p>Navigate social media responsibly and ethically.</p>
                    </div>
                    <div class="card">
                        <h3>üõ°Ô∏è Privacy Protection</h3>
                        <p>Control your digital footprint and personal data.</p>
                    </div>
                </div>
            </div>

            <!-- GAME SECTION -->
            <div id="game-section" class="section hidden">
                <div id="game-name" class="hidden">
                    <h1 style="animation: smoothSlideInDown 0.6s ease-out;">‚öñÔ∏è Enter the Cyber Courtroom</h1>
                    <p class="lead" style="animation: smoothSlideInUp 0.6s ease-out 0.1s both;">What is your Judge's name?</p>
                    <input type="text" id="playerName" class="input" placeholder="Enter your name..." autofocus style="animation: smoothSlideInUp 0.6s ease-out 0.2s both;">
                    <button class="btn" onclick="startGame()" style="animation: smoothSlideInUp 0.6s ease-out 0.3s both;">Begin Training ‚Üí</button>
                </div>

                <div id="game-difficulty" class="hidden">
                    <h1 style="animation: smoothSlideInDown 0.6s ease-out;">üéØ Select Difficulty Level</h1>
                    <p class="lead" style="animation: smoothSlideInUp 0.6s ease-out 0.1s both;">Choose your challenge level!</p>
                    
                    <div class="grid" style="margin-top: 32px;">
                        <div class="card" onclick="selectDifficulty('beginner')" style="cursor: pointer; animation: smoothSlideInLeft 0.6s ease-out 0.1s both;">
                            <h3>üå± Beginner</h3>
                            <p style="margin-bottom: 12px; font-size: 14px;">Perfect for starting your journey</p>
                            <button class="btn" style="width: 100%; margin-top: 12px;">Start Level</button>
                        </div>
                        <div class="card" onclick="selectDifficulty('intermediate')" style="cursor: pointer; animation: smoothSlideInUp 0.6s ease-out 0.2s both;">
                            <h3>‚ö° Intermediate</h3>
                            <p style="margin-bottom: 12px; font-size: 14px;">Test your growing expertise</p>
                            <button class="btn" style="width: 100%; margin-top: 12px;">Start Level</button>
                        </div>
                        <div class="card" onclick="selectDifficulty('advanced')" style="cursor: pointer; animation: smoothSlideInRight 0.6s ease-out 0.3s both;">
                            <h3>üî• Advanced</h3>
                            <p style="margin-bottom: 12px; font-size: 14px;">Master cybersecurity challenges</p>
                            <button class="btn" style="width: 100%; margin-top: 12px;">Start Level</button>
                        </div>
                    </div>
                </div>

                <div id="game-instructions" class="hidden">
                    <h1 id="difficultyTitle" style="animation: smoothSlideInDown 0.6s ease-out;">üìã Courtroom Rules</h1>
                    <p class="lead" style="animation: smoothSlideInUp 0.6s ease-out 0.1s both;">Welcome to the Cyber Courtroom!</p>
                    <div class="card">
                        <h3>How to Play</h3>
                        <ul style="padding-left: 24px;">
                            <li><strong>10 Cases:</strong> You'll judge 10 cyber security cases</li>
                            <li><strong>30 Seconds:</strong> Each case has a 30-second timer</li>
                            <li><strong>Two Options:</strong> GUILTY or NOT GUILTY verdicts</li>
                            <li><strong>Scoring:</strong> Correct answers earn points</li>
                            <li><strong>Hints:</strong> Use 3 hints to get case information</li>
                        </ul>
                    </div>
                    <button class="btn" onclick="beginPlaying()">Start Judging ‚Üí</button>
                </div>

                <div id="game-playing" class="hidden">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 12px;">
                        <h1 id="gameTitle" style="margin: 0;">‚öñÔ∏è Case Loading...</h1>
                        <div class="badge" id="timerBadge">30s</div>
                    </div>

                    <div class="stats">
                        <div class="stat-box">
                            <div class="value" id="gameScore">0</div>
                            <div class="label-text">Score</div>
                        </div>
                        <div class="stat-box">
                            <div class="value" id="gameStreak">0</div>
                            <div class="label-text">Streak</div>
                        </div>
                        <div class="stat-box">
                            <div class="value" id="gameHints">3</div>
                            <div class="label-text">Hints Left</div>
                        </div>
                        <div class="stat-box">
                            <div class="value" id="gameProgress">1/10</div>
                            <div class="label-text">Progress</div>
                        </div>
                    </div>

                    <div id="caseContent" class="card" style="min-height: 180px;">
                        <h3>üìñ Case Details</h3>
                        <p id="caseParagraph">Loading case...</p>
                    </div>

                    <div id="gameAnswerDiv" style="margin-top: 20px;">
                        <div style="display: flex; gap: 12px; margin-bottom: 14px; flex-wrap: wrap;">
                            <button class="btn" id="guiltyBtn" onclick="handleAnswer('GUILTY')" style="flex: 1; min-width: 140px;">‚öñÔ∏è GUILTY</button>
                            <button class="btn" id="notGuiltyBtn" onclick="handleAnswer('NOT GUILTY')" style="flex: 1; min-width: 140px;">‚úÖ NOT GUILTY</button>
                        </div>
                        <button class="btn ghost" id="hintBtn" onclick="useHint()" style="width: 100%; margin-bottom: 12px;">üí° Use Hint</button>
                    </div>

                    <div id="feedbackDiv" class="hidden" style="margin-top: 20px;">
                        <div class="card" style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-color: var(--success);">
                            <h3 id="feedbackText">ACCESS GRANTED</h3>
                            <p id="feedbackDetails"></p>
                            <button class="btn" onclick="nextQuestion()" style="margin-top: 12px;">Next Case ‚Üí</button>
                        </div>
                    </div>
                </div>

                <div id="game-results" class="hidden">
                    <h1>üèÜ Verdict Complete!</h1>
                    <p class="lead">Your Cyber Court Session is Over</p>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="value" id="finalScore">0</div>
                            <div class="label-text">Final Score</div>
                        </div>
                        <div class="stat-box">
                            <div class="value" id="finalAccuracy">0%</div>
                            <div class="label-text">Accuracy</div>
                        </div>
                        <div class="stat-box">
                            <div class="value" id="finalGrade">N/A</div>
                            <div class="label-text">Rank</div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üìä Your Performance</h3>
                        <p id="performanceDetails">Details will load here...</p>
                        <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-top: 12px;">
                            <button class="btn" onclick="downloadCertificate()" style="flex: 1; min-width: 140px;">üìú Download Certificate</button>
                            <button class="btn ghost" onclick="resetGame()">Play Again ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAKE NEWS SECTION -->
            <div id="news-section" class="section hidden">
                <h1>üîç Fake News Detective</h1>
                <p class="lead">Learn to verify information and spot misinformation like a pro!</p>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin: 20px 0;">
                    <button class="btn" onclick="loadNewsScenario('health')" style="width: 100%;">üè• Health Claim</button>
                    <button class="btn" onclick="loadNewsScenario('breaking')" style="width: 100%;">üì∞ Breaking News</button>
                    <button class="btn" onclick="loadNewsScenario('finance')" style="width: 100%;">üí∞ Financial Scam</button>
                    <button class="btn" onclick="loadNewsScenario('science')" style="width: 100%;">üî¨ Science Article</button>
                </div>

                <div id="newsContent" class="card">
                    <h3>Select a scenario above to analyze</h3>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <h3>üîç Fact-Checking Toolkit</h3>
                    <p style="margin-bottom: 14px; color: var(--text-secondary);">Use these tools to investigate:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 10px;">
                        <button class="btn ghost" onclick="showPopup('‚úì Check published date and sources')">üìÖ Date Check</button>
                        <button class="btn ghost" onclick="showPopup('‚úì Verify author credentials')">üë§ Author Check</button>
                        <button class="btn ghost" onclick="showPopup('‚úì Search for contradicting reports')">üîé Search Claim</button>
                        <button class="btn ghost" onclick="showPopup('‚úì Visit fact-checking websites')">üìå Fact-Check Sites</button>
                    </div>
                </div>
            </div>

            <!-- WEBSITE SECTION -->
            <div id="websites-section" class="section hidden">
                <h1>üåê Website Detective Game</h1>
                <p class="lead">Can you spot the fake websites? Test your skills!</p>

                <div class="stats">
                    <div class="stat-box">
                        <div class="value" id="siteScore">0</div>
                        <div class="label-text">üéØ Score</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="siteStreak">0</div>
                        <div class="label-text">üî• Streak</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="siteHints">3</div>
                        <div class="label-text">üí° Hints</div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîç What to Look For:</h3>
                    <ul style="padding-left: 24px;">
                        <li>Check the URL carefully for misspellings</li>
                        <li>Look for HTTPS and a padlock icon</li>
                        <li>Watch for poor grammar and design quality</li>
                        <li>Be suspicious of urgent messages</li>
                    </ul>
                </div>

                <div id="websiteChallenge" class="card" style="margin-top: 20px;">
                    <h3 id="websiteQuestion">Website Analysis Challenge</h3>
                    <div id="websiteDetails" style="background: rgba(10,10,30,0.95); padding: 14px; border-radius: 8px; margin: 14px 0; color: var(--primary);">
                        <p><strong>URL:</strong> <span id="websiteUrl">Loading...</span></p>
                        <p><strong>Design:</strong> <span id="websiteDesign">Loading...</span></p>
                        <p><strong>Content:</strong> <span id="websiteContent">Loading...</span></p>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn" onclick="answerWebsite('real')" style="flex: 1; min-width: 120px;">‚úÖ REAL</button>
                        <button class="btn" onclick="answerWebsite('fake')" style="flex: 1; min-width: 120px;">üö´ FAKE</button>
                    </div>
                </div>
            </div>

            <!-- SAFETY TIPS SECTION -->
            <div id="safety-section" class="section hidden">
                <h1>üéÆ Online Safety Challenge</h1>
                <p class="lead">Test your safety skills with real-world scenarios!</p>

                <div class="stats">
                    <div class="stat-box">
                        <div class="value" id="safetyScore">0</div>
                        <div class="label-text">üéØ Score</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="safetyProgress">1/6</div>
                        <div class="label-text">üìä Progress</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="safetyStreak">0</div>
                        <div class="label-text">üî• Streak</div>
                    </div>
                </div>

                <div id="safetyChallenge" class="card">
                    <h3 id="challengeTitle">Safety Challenge Loading...</h3>
                    <p id="challengeDesc">Get ready...</p>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <h3>üõ°Ô∏è Top Safety Practices</h3>
                    <ul style="padding-left: 24px;">
                        <li><strong>Unique passwords</strong> using a password manager</li>
                        <li><strong>Enable two-factor authentication</strong> on all accounts</li>
                        <li><strong>Never share OTPs or passwords</strong> with anyone</li>
                        <li><strong>Think before you click</strong> unknown links</li>
                        <li><strong>Keep software updated</strong> and back up files</li>
                        <li><strong>Limit personal info</strong> on public profiles</li>
                    </ul>
                </div>
            </div>

            <!-- PRESENTATION SECTION -->
            <div id="presentation-section" class="section hidden">
                <h1 style="animation: smoothSlideInDown 0.6s ease-out;">üé• Online Scam Awareness</h1>
                <p class="lead" style="animation: smoothSlideInUp 0.6s ease-out 0.1s both;">Learn about different types of online scams and how to protect yourself from fraudsters.</p>

                <div class="card" style="margin-top: 28px; animation: smoothSlideInUp 0.6s ease-out 0.2s both;">
                    <h3 style="margin-bottom: 18px;">üìä Comprehensive Scam Guide by Atharv Nigam</h3>
                    <div style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%; overflow: hidden; border-radius: 12px; box-shadow: 0 8px 32px rgba(0, 255, 136, 0.2);">
                        <iframe loading="lazy" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; border-radius: 12px;" 
                            src="https://www.canva.com/design/DAG3LLbWCHc/5bEH6mjsiF0Ni2ZCTimS-w/view?embed" 
                            allowfullscreen="allowfullscreen" allow="fullscreen">
                        </iframe>
                    </div>
                    <p style="margin-top: 16px; color: var(--text-secondary); font-size: 13px; text-align: center;">
                        <strong>Created by:</strong> Atharv Nigam | <strong>Topic:</strong> Online Scam Awareness
                    </p>
                </div>

                <div class="grid" style="margin-top: 32px;">
                    <div class="card" style="animation: smoothSlideInLeft 0.6s ease-out 0.2s both;">
                        <h3>üö® Common Scam Types</h3>
                        <ul style="padding-left: 20px; color: var(--text-secondary); font-size: 14px;">
                            <li style="margin-bottom: 10px;"><strong>Phishing Scams:</strong> Fake emails pretending to be from banks or services asking you to verify credentials</li>
                            <li style="margin-bottom: 10px;"><strong>Romance Scams:</strong> Fraudsters posing as potential partners to steal money or personal information</li>
                            <li style="margin-bottom: 10px;"><strong>Tech Support Scams:</strong> Pop-ups claiming your device has malware and requesting payment</li>
                            <li style="margin-bottom: 10px;"><strong>Investment Scams:</strong> Promises of unrealistic returns on cryptocurrency or stock investments</li>
                            <li><strong>Job Offer Scams:</strong> Fake job postings that ask for money upfront or personal details</li>
                        </ul>
                    </div>

                    <div class="card" style="animation: smoothSlideInRight 0.6s ease-out 0.3s both;">
                        <h3>üõ°Ô∏è Protection Strategies</h3>
                        <ul style="padding-left: 20px; color: var(--text-secondary); font-size: 14px;">
                            <li style="margin-bottom: 10px;"><strong>Verify Sources:</strong> Always confirm sender identity before clicking links or sharing information</li>
                            <li style="margin-bottom: 10px;"><strong>Check URLs:</strong> Look for HTTPS and correct domain names, not lookalikes</li>
                            <li style="margin-bottom: 10px;"><strong>Never Share Personal Info:</strong> Banks won't ask for passwords or SSN via email</li>
                            <li style="margin-bottom: 10px;"><strong>Use Strong Passwords:</strong> Unique, complex passwords for each online account</li>
                            <li><strong>Enable 2FA:</strong> Add an extra layer of security to your accounts</li>
                        </ul>
                    </div>
                </div>

                <div class="card" style="margin-top: 28px; background: linear-gradient(135deg, rgba(255, 170, 0, 0.1) 0%, rgba(255, 85, 0, 0.08) 100%); animation: smoothSlideInUp 0.6s ease-out 0.4s both; border-color: var(--warning);">
                    <h3 style="color: var(--warning);">‚ö†Ô∏è Red Flags to Watch For</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-top: 14px;">
                        <div>
                            <p style="color: var(--warning); font-weight: 600; margin-bottom: 8px;">üö´ Suspicious Signs:</p>
                            <ul style="padding-left: 18px; color: var(--text-secondary); font-size: 13px;">
                                <li>Urgent/threatening language</li>
                                <li>Requests for passwords</li>
                                <li>Too-good-to-be-true offers</li>
                                <li>Spelling & grammar errors</li>
                                <li>Unknown senders or addresses</li>
                            </ul>
                        </div>
                        <div>
                            <p style="color: var(--success); font-weight: 600; margin-bottom: 8px;">‚úÖ Safe Actions:</p>
                            <ul style="padding-left: 18px; color: var(--text-secondary); font-size: 13px;">
                                <li>Contact company directly</li>
                                <li>Use official websites</li>
                                <li>Take time to verify</li>
                                <li>Report suspicious activity</li>
                                <li>Keep records/screenshots</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 28px; animation: smoothSlideInUp 0.6s ease-out 0.5s both;">
                    <h3>üìû If You're Scammed - Immediate Action Steps</h3>
                    <ol style="padding-left: 20px; color: var(--text-secondary); font-size: 14px;">
                        <li style="margin-bottom: 10px;"><strong>Stop Communication:</strong> Cease all contact with the scammer immediately</li>
                        <li style="margin-bottom: 10px;"><strong>Document Evidence:</strong> Save screenshots, emails, and transaction records</li>
                        <li style="margin-bottom: 10px;"><strong>Report to Authorities:</strong> File a report with local police and cyber crime units</li>
                        <li style="margin-bottom: 10px;"><strong>Notify Financial Institutions:</strong> Contact your bank if money was involved</li>
                        <li style="margin-bottom: 10px;"><strong>Change Passwords:</strong> Update credentials for all online accounts immediately</li>
                        <li><strong>Monitor Accounts:</strong> Watch for suspicious activity on your profiles and accounts</li>
                    </ol>
                </div>

                <div class="card" style="margin-top: 28px; animation: smoothSlideInUp 0.6s ease-out 0.6s both;">
                    <h3>üìö Quick Reference Guide</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-top: 12px;">
                        <div style="background: rgba(0,255,136,0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--primary);">
                            <p style="font-weight: 600; color: var(--primary); margin-bottom: 6px; font-size: 13px;">üîó Real Banks</p>
                            <p style="font-size: 12px; color: var(--text-secondary);">Won't ask for passwords via email</p>
                        </div>
                        <div style="background: rgba(0,255,255,0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--accent);">
                            <p style="font-weight: 600; color: var(--accent); margin-bottom: 6px; font-size: 13px;">üí∞ Too Good</p>
                            <p style="font-size: 12px; color: var(--text-secondary);">If it sounds too good, it probably is</p>
                        </div>
                        <div style="background: rgba(168,85,247,0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--secondary);">
                            <p style="font-weight: 600; color: var(--secondary); margin-bottom: 6px; font-size: 13px;">‚è∞ Urgency</p>
                            <p style="font-size: 12px; color: var(--text-secondary);">Take time before acting on requests</p>
                        </div>
                        <div style="background: rgba(220,38,38,0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--danger);">
                            <p style="font-weight: 600; color: var(--danger); margin-bottom: 6px; font-size: 13px;">üîê Personal Data</p>
                            <p style="font-size: 12px; color: var(--text-secondary);">Never share SSN or passwords</p>
                        </div>
                        <div style="background: rgba(217,119,6,0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--warning);">
                            <p style="font-weight: 600; color: var(--warning); margin-bottom: 6px; font-size: 13px;">üîó URLs Matter</p>
                            <p style="font-size: 12px; color: var(--text-secondary);">Type URLs directly, not links</p>
                        </div>
                        <div style="background: rgba(22,163,74,0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--success);">
                            <p style="font-weight: 600; color: var(--success); margin-bottom: 6px; font-size: 13px;">üìû Direct Contact</p>
                            <p style="font-size: 12px; color: var(--text-secondary);">Call official numbers on bills</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ABOUT US SECTION -->
            <div id="about-section" class="section hidden">
                <h1 style="animation: smoothSlideInDown 0.6s ease-out;">üë• Meet Our Team</h1>
                <p class="lead" style="animation: smoothSlideInUp 0.6s ease-out 0.1s both;">We're a passionate group of cybersecurity enthusiasts dedicated to digital safety education.</p>

                <div class="grid" style="margin-top: 32px;">
                    <div class="card" style="animation: smoothSlideInLeft 0.6s ease-out 0.1s both; text-align: center; align-items: center;">
                        <div style="width: 88px; height: 88px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--accent)); display: flex; align-items: center; justify-content: center; font-size: 36px; margin: 0 auto 12px; box-shadow: 0 0 24px rgba(0, 255, 136, 0.4); animation: softPulse 3s ease-in-out infinite;">üß†</div>
                        <h3>Saksham</h3>
                        <p style="color: var(--accent); font-weight: 600; margin-bottom: 6px; font-size: 13px;">Lead Developer</p>
                        <p style="color: var(--text-secondary); font-size: 13px;">Architecting secure systems</p>
                    </div>

                    <div class="card" style="animation: smoothSlideInUp 0.6s ease-out 0.2s both; text-align: center; align-items: center;">
                        <div style="width: 88px; height: 88px; border-radius: 50%; background: linear-gradient(135deg, var(--accent), var(--secondary)); display: flex; align-items: center; justify-content: center; font-size: 36px; margin: 0 auto 12px; box-shadow: 0 0 24px rgba(0, 255, 255, 0.4); animation: softPulse 3s ease-in-out 0.3s infinite;">üîê</div>
                        <h3>Divyank</h3>
                        <p style="color: var(--accent); font-weight: 600; margin-bottom: 6px; font-size: 13px;">Security Expert</p>
                        <p style="color: var(--text-secondary); font-size: 13px;">Ensuring robust security</p>
                    </div>

                    <div class="card" style="animation: smoothSlideInRight 0.6s ease-out 0.3s both; text-align: center; align-items: center;">
                        <div style="width: 88px; height: 88px; border-radius: 50%; background: linear-gradient(135deg, var(--secondary), var(--primary)); display: flex; align-items: center; justify-content: center; font-size: 36px; margin: 0 auto 12px; box-shadow: 0 0 24px rgba(255, 0, 255, 0.4); animation: softPulse 3s ease-in-out 0.6s infinite;">üé®</div>
                        <h3>Aarav S.</h3>
                        <p style="color: var(--accent); font-weight: 600; margin-bottom: 6px; font-size: 13px;">UI/UX Designer</p>
                        <p style="color: var(--text-secondary); font-size: 13px;">Creating beautiful UI</p>
                    </div>

                  

                    <div class="card" style="animation: smoothSlideInUp 0.6s ease-out 0.5s both; text-align: center; align-items: center;">
                        <div style="width: 88px; height: 88px; border-radius: 50%; background: linear-gradient(135deg, var(--accent), var(--primary)); display: flex; align-items: center; justify-content: center; font-size: 36px; margin: 0 auto 12px; box-shadow: 0 0 24px rgba(0, 255, 255, 0.4); animation: softPulse 3s ease-in-out 1.2s infinite;">üöÄ</div>
                        <h3>Atharv</h3>
                        <p style="color: var(--accent); font-weight: 600; margin-bottom: 6px; font-size: 13px;">Project Manager</p>
                        <p style="color: var(--text-secondary); font-size: 13px;">Coordinating teams</p>
                    </div>
                                      
                </div>

                <div class="card" style="margin-top: 32px; background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 255, 255, 0.08) 100%); animation: smoothSlideInUp 0.6s ease-out 0.3s both;">
                    <h3 style="color: var(--primary); margin-bottom: 12px;">üéØ Our Mission</h3>
                    <p style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 12px;">We believe that cybersecurity knowledge should be accessible and engaging for everyone. Through interactive learning experiences, we empower students to become digital citizens.</p>
                    <p style="color: var(--text-secondary); line-height: 1.8;">Our Cyber Courtroom gamifies security learning, making complex concepts easy to understand.</p>
                </div>
                
            </div>


            <!-- CERTIFICATE TEMPLATE -->
            <div id="certificate" style="display: none; position: absolute; top: -9999px; left: -9999px;">
                <div style="width: 800px; height: 600px; background: linear-gradient(135deg, #0a0e27 0%, #1a0033 50%, #0a0e27 100%); border: 4px solid var(--primary); border-radius: 20px; padding: 40px; text-align: center; color: #39ff14; font-family: 'Orbitron', sans-serif; box-shadow: 0 0 50px rgba(0, 255, 136, 0.5);">
                    <div style="border: 2px solid var(--primary); border-radius: 15px; padding: 20px; height: 100%; display: flex; flex-direction: column; justify-content: center;">
                        <h1 style="font-size: 48px; color: var(--primary); margin-bottom: 20px; text-shadow: 0 0 20px rgba(0, 255, 136, 0.8);">üèÜ CERTIFICATE</h1>
                        <h2 style="font-size: 32px; margin-bottom: 30px;">Cyber Security Expert</h2>
                        <p style="font-size: 24px; margin-bottom: 20px;">This certifies that</p>
                        <h3 id="certName" style="font-size: 36px; color: var(--accent); margin-bottom: 20px;">[Name]</h3>
                        <p style="font-size: 20px; margin-bottom: 20px;">has successfully completed the Cyber Courtroom Challenge</p>
                        <div style="display: flex; justify-content: space-around; margin: 30px 0;">
                            <div>
                                <p style="font-size: 18px; margin-bottom: 5px;">Final Score</p>
                                <p id="certScore" style="font-size: 24px; color: var(--success);">0</p>
                            </div>
                            <div>
                                <p style="font-size: 18px; margin-bottom: 5px;">Accuracy</p>
                                <p id="certAccuracy" style="font-size: 24px; color: var(--success);">0%</p>
                            </div>
                            <div>
                                <p style="font-size: 18px; margin-bottom: 5px;">Rank</p>
                                <p id="certGrade" style="font-size: 24px; color: var(--success);">N/A</p>
                            </div>
                        </div>
                        <p style="font-size: 16px; margin-top: 20px;">Date: <span id="certDate"></span></p>
                        <div style="margin-top: 30px; font-size: 14px; opacity: 0.8;">üõ°Ô∏è Cyber Courtroom - Digital Safety Expert</div>
                    </div>
                </div>
            </div>

            <!-- FEEDBACK SECTION -->
            <div id="feedback-section" class="section hidden">
                <h1>üìã Parent Feedback Form</h1>
                <p class="lead">Help us improve! Share your feedback about the Cyber Courtroom program.</p>

                <div class="grid">
                    <div class="card">
                        <h3>üì± Scan QR Code</h3>
                        <p>Parents can quickly submit feedback by scanning the QR code with their mobile device.</p>
                        <div style="background: rgba(10,10,30,0.95); padding: 18px; border-radius: 12px; text-align: center; margin: 14px 0; border: 2px solid rgba(0,255,136,0.3);">
                            <a href="https://atharv6272-eng.github.io/PBA-master-website/feedback-form.html" style="display: inline-block;">
                                <div id="qrcode"></div>
                            </a>
                        </div>
                        <button class="btn" onclick="copyQRLink()" style="width: 100%;">üìã Copy Form Link</button>
                    </div>

                    <div class="card">
                        <h3>üìù Direct Feedback Form</h3>
                        <p>Or fill out the form directly below.</p>
                        <form id="feedbackForm">
                            <label class="label">üë§ Your Name</label>
                            <input type="text" name="name" class="input" placeholder="Enter your name" required>
                            
                            <label class="label">üìß Email Address</label>
                            <input type="email" name="email" class="input" placeholder="your.email@example.com" required>
                            
                            <label class="label">üë∂ Child's Age Group</label>
                            <select class="input" name="ageGroup" required>
                                <option value="">Select age group</option>
                                <option value="8-10">8-10 years</option>
                                <option value="11-13">11-13 years</option>
                                <option value="14-16">14-16 years</option>
                                <option value="17+">17+ years</option>
                            </select>
                            
                            <label class="label">‚≠ê How would you rate this program?</label>
                            <div style="display: flex; gap: 10px; margin-bottom: 14px; flex-wrap: wrap;">
                                <label style="cursor: pointer; display: flex; align-items: center; gap: 4px;"><input type="radio" name="rating" value="5" required>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</label>
                                <label style="cursor: pointer; display: flex; align-items: center; gap: 4px;"><input type="radio" name="rating" value="4">‚≠ê‚≠ê‚≠ê‚≠ê</label>
                                <label style="cursor: pointer; display: flex; align-items: center; gap: 4px;"><input type="radio" name="rating" value="3">‚≠ê‚≠ê‚≠ê</label>
                                <label style="cursor: pointer; display: flex; align-items: center; gap: 4px;"><input type="radio" name="rating" value="2">‚≠ê‚≠ê</label>
                                <label style="cursor: pointer; display: flex; align-items: center; gap: 4px;"><input type="radio" name="rating" value="1">‚≠ê</label>
                            </div>

                            <label class="label">üí¨ What did your child enjoy most?</label>
                            <textarea class="input" name="enjoy" placeholder="Share feedback..." rows="2"></textarea>

                            <label class="label">üí° Suggestions for Improvement</label>
                            <textarea class="input" name="suggestions" placeholder="Any suggestions?" rows="2"></textarea>

                            <label class="label">üëç Would you recommend this program?</label>
                            <div style="display: flex; gap: 20px; margin-bottom: 14px;">
                                <label style="cursor: pointer;"><input type="radio" name="recommend" value="yes" required> Yes</label>
                                <label style="cursor: pointer;"><input type="radio" name="recommend" value="no"> No</label>
                            </div>

                            <button type="submit" class="btn" style="width: 100%; margin-top: 12px;">‚úÖ Submit Feedback</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- THEME MANAGEMENT ---
        function toggleTheme() {
            const html = document.documentElement;
            const themeLabel = document.getElementById('themeLabel');
            const themeIcon = document.querySelector('.theme-toggle-icon');
            
            if (html.classList.contains('light-mode')) {
                html.classList.remove('light-mode');
                localStorage.setItem('theme', 'dark');
                themeLabel.textContent = 'Dark';
                themeIcon.textContent = 'üåô';
            } else {
                html.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
                themeLabel.textContent = 'Light';
                themeIcon.textContent = '‚òÄÔ∏è';
            }
        }

        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const html = document.documentElement;
            const themeLabel = document.getElementById('themeLabel');
            const themeIcon = document.querySelector('.theme-toggle-icon');
            
            if (savedTheme === 'light') {
                html.classList.add('light-mode');
                themeLabel.textContent = 'Light';
                themeIcon.textContent = '‚òÄÔ∏è';
            } else {
                html.classList.remove('light-mode');
                themeLabel.textContent = 'Dark';
                themeIcon.textContent = 'üåô';
            }
        }

        // --- GLOBAL STATE ---
        let gameState = 'home';
        let playerName = '';
        let gameQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 30;
        let answers = [];
        let answerGiven = false;
        let currentAnswer = null;
        let streak = 0;
        let hintsRemaining = 3;
        let selectedDifficulty = 'intermediate';

        // --- QUIZ QUESTIONS ---
        const beginner = [
            {
                case: "A legitimate bank email asks you to verify account by clicking a link and entering credentials. The sender's address is 'support@bankverify.io' instead of the official domain.",
                correct: "GUILTY",
                explanation: "Phishing attempt: fake sender domain. Real banks won't ask for password via email.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "A social media post from verified influencer claims a supplement cures COVID-19 with fake testimonials and misrepresented research.",
                correct: "GUILTY",
                explanation: "Misinformation: misrepresented research + fake testimonials. No supplement cures COVID-19.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "A cryptocurrency exchange offers 200% APY. Fine print shows insurance only covers platform hacks, not losses.",
                correct: "GUILTY",
                explanation: "Scam: high returns + hidden limitations = fraudulent. Legitimate offers disclose all terms.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "Investment course testimonials use stock photos, generic names, and require complex documentation for refunds.",
                correct: "GUILTY",
                explanation: "Multiple red flags: fake testimonials, stock photos, complicated refund. Real testimonials are verifiable.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "Conspiracy video uses dramatic music, emotional language, and fringe sources with no mainstream verification.",
                correct: "GUILTY",
                explanation: "Conspiracy: emotional manipulation + fringe sources only. Credible analysis includes multiple reliable sources.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "Research paper from prestigious university with 500+ citations and institutional review is shared by groups with specific agendas.",
                correct: "NOT GUILTY",
                explanation: "Legitimate research can be shared by interested groups. Judge the paper itself: proper citations, peer review = credible.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "LinkedIn job offer from Fortune 500 company asks for SSN before job discussion. Profile age is only 3 months.",
                correct: "GUILTY",
                explanation: "Job scam: legitimate companies don't ask for SSN upfront. Always verify via official website.",
                difficulty: "‚≠ê‚≠ê"
            },
            {
                case: "Tech article about security vulnerability published 6 months before official CVE announcement.",
                correct: "GUILTY",
                explanation: "Predates official disclosure. Credible reports reference official CVE database.",
                difficulty: "‚≠ê‚≠ê‚≠ê"
            },
            {
                case: "Website URL is 'https://amed-info.gov' with HTTPS, professional design, government seals. Actually domain spoofing.",
                correct: "GUILTY",
                explanation: "Domain spoofing: typos + HTTPS + professional design = advanced phishing. Type URLs directly.",
                difficulty: "‚≠ê‚≠ê‚≠ê"
            },
            {
                case: "ISP email warns of illegal activity and asks to verify within 24 hours via link. Link domain matches ISP exactly.",
                correct: "NOT GUILTY",
                explanation: "Actually GUILTY: legitimate ISPs don't threaten closures. Always call directly using bill number.",
                difficulty: "‚≠ê‚≠ê‚≠ê‚≠ê"
            }
        ];

        const intermediate = [...beginner].sort(() => Math.random() - 0.5);
        const advanced = [...beginner].sort(() => Math.random() - 0.5);

        // --- GAME FUNCTIONS ---
        function goToSection(section) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.getElementById(section + '-section').classList.remove('hidden');
            
            if (section === 'game') {
                document.getElementById('game-name').classList.remove('hidden');
                document.getElementById('game-difficulty').classList.add('hidden');
                document.getElementById('game-instructions').classList.add('hidden');
                document.getElementById('game-playing').classList.add('hidden');
                document.getElementById('game-results').classList.add('hidden');
            } else if (section === 'news') {
                loadNewsScenario('health');
            } else if (section === 'websites') {
                loadWebsiteChallenge();
            } else if (section === 'safety') {
                loadSafetyChallenge();
            }
        }

        function startGame() {
            playerName = document.getElementById('playerName').value.trim();
            if (playerName) {
                document.getElementById('game-name').classList.add('hidden');
                document.getElementById('game-difficulty').classList.remove('hidden');
            }
        }

        function selectDifficulty(level) {
            selectedDifficulty = level;
            document.getElementById('game-difficulty').classList.add('hidden');
            document.getElementById('game-instructions').classList.remove('hidden');
        }

        function beginPlaying() {
            const difficultyQuestions = {
                beginner: beginner,
                intermediate: intermediate,
                advanced: advanced
            };
            gameQuestions = difficultyQuestions[selectedDifficulty].sort(() => Math.random() - 0.5);
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            answers = [];
            hintsRemaining = 3;
            answerGiven = false;
            timeLeft = 30;

            document.getElementById('game-instructions').classList.add('hidden');
            document.getElementById('game-playing').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= gameQuestions.length) {
                endGame();
                return;
            }

            const q = gameQuestions[currentQuestionIndex];
            document.getElementById('caseParagraph').textContent = q.case;
            document.getElementById('gameTitle').textContent = `‚öñÔ∏è Case ${currentQuestionIndex + 1}/10`;
            document.getElementById('gameProgress').textContent = `${currentQuestionIndex + 1}/10`;
            document.getElementById('gameScore').textContent = score;
            document.getElementById('gameStreak').textContent = streak;
            document.getElementById('gameHints').textContent = hintsRemaining;

            answerGiven = false;
            timeLeft = 30;
            currentAnswer = null;
            document.getElementById('gameAnswerDiv').classList.remove('hidden');
            document.getElementById('feedbackDiv').classList.remove('feedback-show');
            document.getElementById('feedbackDiv').classList.add('hidden');
            document.getElementById('guiltyBtn').disabled = false;
            document.getElementById('notGuiltyBtn').disabled = false;
            document.getElementById('hintBtn').disabled = false;

            updateTimer();
        }

        function updateTimer() {
            document.getElementById('timerBadge').textContent = timeLeft + 's';
            if (timeLeft <= 0 && !answerGiven) {
                handleAnswer('TIMEOUT');
            } else if (timeLeft > 0 && !answerGiven) {
                timeLeft--;
                setTimeout(updateTimer, 1000);
            }
        }

        function handleAnswer(answer) {
            if (answerGiven) return;
            answerGiven = true;

            document.getElementById('guiltyBtn').disabled = true;
            document.getElementById('notGuiltyBtn').disabled = true;
            document.getElementById('hintBtn').disabled = true;

            const q = gameQuestions[currentQuestionIndex];
            const correct = answer === q.correct;
            let points = 0;

            if (correct) {
                const timeBonus = timeLeft * 2;
                const streakBonus = streak * 15;
                points = 100 + timeBonus + streakBonus;
                score += points;
                streak++;
                document.getElementById('feedbackDiv').style.background = 'linear-gradient(135deg, rgba(0, 255, 136, 0.2) 0%, rgba(0, 255, 136, 0.1) 100%)';
                document.getElementById('feedbackDiv').style.borderColor = 'var(--success)';
                document.getElementById('feedbackDiv').style.boxShadow = '0 0 20px rgba(0, 255, 136, 0.5)';
                document.getElementById('feedbackText').textContent = '‚úÖ VERDICT CORRECT!';
                document.getElementById('feedbackText').style.color = 'var(--success)';
                document.getElementById('feedbackDetails').style.color = 'var(--text-primary)';
            } else {
                streak = 0;
                document.getElementById('feedbackDiv').style.background = 'linear-gradient(135deg, rgba(255, 0, 85, 0.2) 0%, rgba(255, 0, 85, 0.1) 100%)';
                document.getElementById('feedbackDiv').style.borderColor = 'var(--danger)';
                document.getElementById('feedbackDiv').style.boxShadow = '0 0 20px rgba(255, 0, 85, 0.5)';
                document.getElementById('feedbackText').textContent = '‚ùå VERDICT INCORRECT!';
                document.getElementById('feedbackText').style.color = 'var(--danger)';
                document.getElementById('feedbackDetails').style.color = 'var(--text-primary)';
            }

            document.getElementById('feedbackDetails').innerHTML = `<strong>${q.explanation}</strong>`;
            document.getElementById('gameAnswerDiv').classList.add('hidden');
            document.getElementById('feedbackDiv').classList.remove('hidden');
            document.getElementById('feedbackDiv').classList.add('feedback-show');
            document.getElementById('gameScore').textContent = score;
            document.getElementById('gameStreak').textContent = streak;

            answers.push({ answer, correct, points });
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < gameQuestions.length) {
                loadQuestion();
            } else {
                endGame();
            }
        }

        function useHint() {
            if (hintsRemaining > 0 && !answerGiven) {
                hintsRemaining--;
                document.getElementById('gameHints').textContent = hintsRemaining;
                const q = gameQuestions[currentQuestionIndex];
                const hint = q.correct === 'GUILTY' ? 'üö® This is GUILTY!' : '‚úÖ This is NOT GUILTY!';
                showPopup('üí° ' + hint);
            }
        }

        function endGame() {
            const correctCount = answers.filter(a => a.correct).length;
            const accuracy = Math.round((correctCount / 10) * 100);
            let grade = accuracy >= 80 ? 'Expert' : 'Trainee';

            document.getElementById('game-playing').classList.add('hidden');
            document.getElementById('game-results').classList.remove('hidden');
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalAccuracy').textContent = accuracy + '%';
            document.getElementById('finalGrade').textContent = grade;
            document.getElementById('performanceDetails').textContent = `You answered ${correctCount}/10 correctly!`;

            // Populate certificate
            document.getElementById('certName').textContent = playerName || 'Anonymous';
            document.getElementById('certScore').textContent = score;
            document.getElementById('certAccuracy').textContent = accuracy + '%';
            document.getElementById('certGrade').textContent = grade;
            document.getElementById('certDate').textContent = new Date().toLocaleDateString();
        }

        function resetGame() {
            goToSection('game');
        }

        function downloadCertificate() {
            const certificate = document.getElementById('certificate');
            html2canvas(certificate).then(canvas => {
                const link = document.createElement('a');
                link.download = 'Cyber_Courtroom_Certificate.png';
                link.href = canvas.toDataURL();
                link.click();
                showPopup('üìú Certificate downloaded!');
            }).catch(err => {
                console.error('Error generating certificate:', err);
                showPopup('‚ùå Error downloading certificate.');
            });
        }

        // --- NEWS SECTION ---
        const newsScenarios = {
            health: { title: 'Health Claim', content: 'Cure all diseases claim', credibility: 'Likely False' },
            breaking: { title: 'Breaking News', content: 'Official report from credible source', credibility: 'Likely True' },
            finance: { title: 'Financial Scam', content: 'Guaranteed 500% returns in 48 hours', credibility: 'Likely False' },
            science: { title: 'Science Article', content: 'Peer-reviewed journal study', credibility: 'Likely True' }
        };

        function loadNewsScenario(type) {
            const scenario = newsScenarios[type];
            document.getElementById('newsContent').innerHTML = `
                <h3>${scenario.title}</h3>
                <p style="background: rgba(10,10,30,0.95); padding: 12px; border-radius: 8px; margin: 12px 0; color: var(--accent);">"${scenario.content}"</p>
                <p><strong>Assessment:</strong> <span style="color: ${scenario.credibility.includes('False') ? '#ff6b6b' : '#51cf66'};">${scenario.credibility}</span></p>
            `;
        }

        // --- WEBSITE SECTION ---
        const websites = [
            { url: 'https://amazon.com', design: 'Professional layout', content: 'Verified reviews', real: true },
            { url: 'https://amaz0n-secure.tk', design: 'Poor design', content: 'Immediate payment demand', real: false },
            { url: 'https://gmail.com', design: 'Clean design', content: 'Secure login', real: true },
            { url: 'https://gmial-verify.com', design: 'Gmail-like', content: 'Verify account urgently', real: false }
        ];

        let currentWebsite = 0;

        function loadWebsiteChallenge() {
            currentWebsite = Math.floor(Math.random() * websites.length);
            const site = websites[currentWebsite];
            document.getElementById('websiteUrl').textContent = site.url;
            document.getElementById('websiteDesign').textContent = site.design;
            document.getElementById('websiteContent').textContent = site.content;
        }

        function answerWebsite(answer) {
            const site = websites[currentWebsite];
            const correct = (answer === 'real') === site.real;
            showPopup(correct ? '‚úÖ Correct!' : '‚ùå Incorrect!');
            loadWebsiteChallenge();
        }

        // --- SAFETY SECTION ---
        const safetyChallenges = [
            { title: 'Strong Password', desc: 'Which password is safest? A) password123 B) MyP@ss123 C) 12345', answer: 'B' },
            { title: '2FA Setup', desc: 'Two-factor authentication adds: A) Another password B) Extra verification C) More storage', answer: 'B' },
            { title: 'Public WiFi', desc: 'On public WiFi, avoid: A) Weather B) Banking C) Social media', answer: 'B' },
            { title: 'Email Phishing', desc: 'If bank emails for verification: A) Click B) Call directly C) Reply with credentials', answer: 'B' },
            { title: 'Updates', desc: 'Updates are important for: A) Speed B) Security fixes C) Features only', answer: 'B' },
            { title: 'Personal Info', desc: 'Never share on public profiles: A) Hobbies B) Passwords C) Interests', answer: 'B' }
        ];

        let currentChallenge = 0;

        function loadSafetyChallenge() {
            const challenge = safetyChallenges[currentChallenge];
            document.getElementById('challengeTitle').textContent = `üõ°Ô∏è ${challenge.title}`;
            document.getElementById('challengeDesc').textContent = challenge.desc;
            document.getElementById('safetyProgress').textContent = `${currentChallenge + 1}/6`;
        }

        // --- UTILITIES ---
        function showPopup(message) {
            const popup = document.createElement('div');
            popup.className = 'popup show';
            popup.textContent = message;
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 2000);
        }

        function copyQRLink() {
            navigator.clipboard.writeText('https://atharv6272-eng.github.io/PBA-master-website/feedback-form.html').then(() => {
                showPopup('üìã Link copied!');
            }).catch(() => alert('Form: https://atharv6272-eng.github.io/PBA-master-website/feedback-form.html'));
        }

        // --- FEEDBACK FORM ---
        document.getElementById('feedbackForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const btn = this.querySelector('button[type="submit"]');
            btn.textContent = 'Submitting...';
            btn.disabled = true;
            try {
                const response = await fetch('http://localhost:5000/submit-feedback', {
                    method: 'POST',
                    body: formData
                });
                if (response.ok) {
                    showPopup('‚úÖ Thank you for your feedback!');
                    this.reset();
                } else {
                    showPopup('‚ùå Error submitting feedback.');
                }
            } catch (error) {
                showPopup('‚ùå Network error.');
            } finally {
                btn.textContent = '‚úÖ Submit Feedback';
                btn.disabled = false;
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initTheme();
            goToSection('home');
            // Generate QR code
            new QRCode(document.getElementById("qrcode"), {
                text: "https://atharv6272-eng.github.io/PBA-master-website/feedback-form.html",
                width: 160,
                height: 160,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        });
    </script>

    <script>
        function openPresentationTab() {
            window.open('https://www.canva.com/design/DAG3LLbWCHc/5bEH6mjsiF0Ni2ZCTimS-w/view', 'presentation', 'width=1200,height=800');
        }
    </script>
</body>
</html>
